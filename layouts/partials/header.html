<header class="mx-auto max-w-(--w) px-8 py-4">
  <!-- Desktop: Everything on one line, Mobile: Stacked -->
  <div
    class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"
  >
    <!-- Left: Avatar, Name, and Tagline -->
    <div class="flex items-center gap-3">
      <a href="/" class="shrink-0">
        <img
          src="/headshot.jpg"
          alt="Kevin Schaul"
          class="w-12 h-12 rounded-full border border-black/10 dark:border-white/10"
        />
      </a>
      <div class="flex flex-col">
        <a
          class="text-2xl font-medium text-black dark:text-white hover:text-purple-800 no-underline"
          href="/"
        >
          Kevin Schaul
        </a>
        <p class="text-sm text-gray-500 mt-0 mb-0">
          Visual journalist/hacker covering AI
        </p>
      </div>
    </div>

    <!-- Right: Navigation Links -->
    {{- with site.Menus.main -}}
    <nav class="flex flex-wrap gap-x-6 gap-y-2">
      {{- range . -}}
      <a
        class="text-gray-600 dark:text-gray-300 hover:text-purple-800 dark:hover:text-purple-800 no-underline"
        href="{{- .URL -}}"
      >
        {{- .Name -}}
      </a>
      {{- end -}}
    </nav>
    {{- end -}}
  </div>
</header>

<script>
  // Simple dark mode based on system preference
  const htmlClass = document.documentElement.classList;
  setTimeout(() => {
    htmlClass.remove("not-ready");
  }, 10);

  const darkScheme = window.matchMedia("(prefers-color-scheme: dark)");
  const setDark = (isDark) => {
    htmlClass[isDark ? "add" : "remove"]("dark");
  };

  setDark(darkScheme.matches);
  darkScheme.addEventListener("change", (event) => {
    setDark(event.matches);
  });
</script>
